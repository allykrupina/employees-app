{"version":3,"sources":["components/Loader.js","components/Error.js","store/UserContext.js","components/User.js","containers/ListUsers.js","components/UsersDate.js","containers/Birthdays.js","containers/Wrapper.js","App.js","reportWebVitals.js","index.js"],"names":["Loader","className","Error","UserContext","React","createContext","UserProvider","state","ids","users","usersByDate","usersByAlphabet","status","sortByAlphabet","data","filterArray","Array","keys","map","i","String","fromCharCode","reduce","obj","key","currentArray","filter","item","lastName","toLowerCase","charAt","setState","getStorageIds","sortByDate","usersArray","find","id","monthsArray","from","date","Date","dob","month","toLocaleString","dateString","getDate","getFullYear","currentIndex","getMonth","push","el","length","updateDate","idsArray","indexOf","concat","localStorage","setItem","getUsers","axios","method","url","then","handleError","catch","error","storageIds","getItem","split","clearAll","removeItem","this","children","props","Provider","value","Component","User","firstName","context","useContext","type","onChange","checked","includes","AlphabetBlock","Object","ListUsers","onClick","UsersDate","ListDates","index","Birthdays","Wrapper","App","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.15dfcad1.chunk.js","sourcesContent":["const Loader = () => (\n  <div className=\"spinner\">\n    <div className=\"spinner-in\">\n      <div className=\"spinner-item\"></div>\n      <div className=\"spinner-item\"></div>\n      <div className=\"spinner-item\"></div>\n    </div>\n  </div>\n)\n\nexport default Loader;\n","const Error = () => (\n  <p className=\"text-error\">\n    <span>Unfortunately</span>\n    <br/>\n    something went wrong :(\n  </p>\n);\n\nexport default Error;\n","import React, { Component } from \"react\";\nimport axios from \"axios\";\n\nconst UserContext = React.createContext();\n\nclass UserProvider extends Component {\n  state = {\n    ids: [],\n    users: [],\n    usersByDate: {},\n    usersByAlphabet: {},\n    status: \"loader\"\n  };\n\n  sortByAlphabet = data => {\n    const alphabetArray = [...Array(26).keys()].map(i =>\n      String.fromCharCode(i + 97)\n    );\n    const filterArray = alphabetArray.reduce((obj, key) => {\n      const currentArray = data.filter(\n        item => item.lastName.toLowerCase().charAt(0) === key\n      );\n      return { ...obj, [key]: currentArray };\n    }, {});\n\n    this.setState(\n      {\n        users: data,\n        status: \"ready\",\n        usersByAlphabet: filterArray\n      },\n      () => this.getStorageIds()\n    );\n  };\n\n  sortByDate = () => {\n    const { ids, users } = this.state,\n      usersArray = ids.map(item => users.find(obj => obj.id === item)),\n      monthsArray = Array.from(Array(12), () => []);\n\n    for (let item of usersArray) {\n      const date = new Date(item.dob),\n        month = date.toLocaleString(\"default\", { month: \"long\" }),\n        dateString = `${date.getDate()} ${month}, ${date.getFullYear()} year`,\n        currentIndex = date.getMonth() + 1;\n      item.date = dateString;\n      item.currentIndex = currentIndex;\n      item.month = month;\n      monthsArray[currentIndex - 1].push(item);\n    }\n    this.setState({\n      usersByDate: monthsArray.filter(el => el.length)\n    });\n  };\n\n  updateDate = id => {\n    const { ids } = this.state;\n    const index = ids.indexOf(id);\n    const idsArray =\n      index !== -1 ? ids.filter(item => item !== id) : ids.concat(id);\n    localStorage.setItem(\"ids\", idsArray);\n    this.setState(\n      {\n        ids: idsArray\n      },\n      () => {\n        this.sortByDate();\n      }\n    );\n  };\n\n  getUsers = () => {\n    axios({\n      method: \"get\",\n      url: \"https://yalantis-react-school-api.yalantis.com/api/task0/users\"\n    })\n      .then(({ data }) => {\n        data.length ? this.sortByAlphabet(data) : this.handleError();\n      })\n      .catch(error => this.handleError());\n  };\n\n  getStorageIds = () => {\n    const storageIds = localStorage.getItem(\"ids\");\n    if (storageIds) {\n      this.setState(\n        {\n          ids: storageIds.split(\",\")\n        },\n        () => this.sortByDate()\n      );\n    }\n  };\n\n  clearAll = () => {\n    localStorage.removeItem(\"ids\");\n    this.setState({ ids: [], usersByDate: [] });\n  };\n\n  handleError = () => this.setState({ status: \"error\" });\n\n  componentDidMount() {\n    this.getUsers();\n  }\n\n  render() {\n    const { children } = this.props;\n    return (\n      <UserContext.Provider value={{ ...this }}>\n        {children}\n      </UserContext.Provider>\n    );\n  }\n}\n\nexport { UserProvider };\n\nexport default UserContext;\n","import React, { useContext } from \"react\";\nimport UserContext from \"../store/UserContext\";\n\nconst User = ({ id, lastName, firstName }) => {\n  const context = useContext(UserContext),\n  { state, updateDate } = context,\n  { ids } = state;\n  return (\n    <div className=\"user\">\n      <input\n        type=\"checkbox\"\n        className=\"user-input\"\n        onChange={() => updateDate(id)}\n        checked={ids.includes(id)}\n      />\n      <p className=\"user-name\">\n        {lastName} {firstName}\n      </p>\n    </div>\n  );\n};\n\nexport default User;\n","import React, { useContext } from \"react\";\nimport UserContext from \"../store/UserContext\";\nimport User from \"../components/User\";\n\nconst AlphabetBlock = ({ users }) => (\n  <div className=\"users-list\">\n    {Object.keys(users).map(key => (\n      <div className=\"users-list-item\" key={key}>\n        <p className=\"users-list-letter\">{key}</p>\n        {users[key].length ? (\n          users[key].map(item => <User key={item.id} {...item} />)\n        ) : (\n          <p>-</p>\n        )}\n      </div>\n    ))}\n  </div>\n);\n\nconst ListUsers = () => {\n  const context = useContext(UserContext),\n    { state, clearAll } = context,\n    { usersByAlphabet, ids } = state;\n\n  return (\n    <div className=\"users-container\">\n      <div className=\"users-container-top\">\n        <h2 className=\"sub-title\">Employees list</h2>\n        {ids.length ? (\n          <p className=\"button-clear-all\" onClick={() => clearAll()}>\n            Clear all\n          </p>\n        ) : null}\n      </div>\n      {usersByAlphabet && <AlphabetBlock users={usersByAlphabet} />}\n    </div>\n  );\n};\n\nexport default ListUsers;\n","const UsersDate = ({ users }) => {\n  return (\n    <ul className=\"date-users\">\n      {users.map(item => (\n        <li className=\"date-users-item\" key={item.id}>\n          <p className=\"date-user-name\">\n            {item.lastName} {item.firstName}\n          </p>\n          <p className=\"date-user-birthday\">{item.date}</p>\n        </li>\n      ))}\n    </ul>\n  );\n};\n\nexport default UsersDate;\n","import React, { useContext } from \"react\";\nimport UserContext from \"../store/UserContext\";\nimport UsersDate from \"../components/UsersDate\";\n\nconst ListDates = ({ month }) => {\n  return (\n    <div className=\"date-list\">\n      {month.map((item, index) => (\n        <div className=\"date-list-item\" key={index}>\n          <p className=\"date-month\">{item[0].month}</p>\n          <UsersDate users={item} />\n        </div>\n      ))}\n    </div>\n  );\n};\n\nconst Birthdays = item => {\n  const { usersByDate } = useContext(UserContext).state;\n  return (\n    <div className=\"date-container\">\n      <h2 className=\"sub-title\">Birthday</h2>\n      {usersByDate.length ? (\n        <ListDates month={usersByDate} />\n      ) : (\n        <p className=\"users-notfound\">No selected employees</p>\n      )}\n    </div>\n  );\n};\n\nexport default Birthdays;\n","import React, { useContext } from \"react\";\nimport Loader from \"../components/Loader\";\nimport Error from \"../components/Error\";\nimport ListUsers from \"./ListUsers\";\nimport Birthdays from \"./Birthdays\";\nimport UserContext from \"../store/UserContext\";\n\nconst Wrapper = () => {\n  const { status } = useContext(UserContext).state;\n  if (status === \"loader\") return <Loader />;\n  if (status === \"error\") return <Error />;\n  return (\n    <>\n      <ListUsers />\n      <Birthdays />\n    </>\n  );\n};\n\nexport default Wrapper;\n","import React from \"react\";\nimport Wrapper from \"./containers/Wrapper\";\nimport { UserProvider } from \"./store/UserContext\";\nimport \"./assets/App.scss\";\n\nconst App = () => (\n  <UserProvider>\n    <div className=\"container\">\n      <h1 className=\"title\">Employees App</h1>\n      <div className=\"wrapper\">\n        <Wrapper />\n      </div>\n    </div>\n  </UserProvider>\n);\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\nreportWebVitals();\n"],"sourceRoot":""}